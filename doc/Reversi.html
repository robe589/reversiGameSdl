<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Reversi
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!Reversi.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (R)</a> &raquo;
    
    
    <span class="title">Reversi</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Reversi
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Reversi</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">Reversi.rb</dd>
  
</dl>
<div class="clear"></div>


  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="stoneState-classvariable" class="">@@stoneState =
          <div class="docstring">
  <div class="discussion">
    
<p>マス目の状態を表す値を持つハッシュ</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>white</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='int'>1</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='int'>2</span><span class='rbrace'>}</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#gridSize-instance_method" title="#gridSize (instance method)">- (Object) <strong>gridSize</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute gridSize.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#addStone-instance_method" title="#addStone (instance method)">- (Object) <strong>addStone</strong>(x, y, stoneColor) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>初期石を置く際に使用.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#countStone-instance_method" title="#countStone (instance method)">- (Object) <strong>countStone</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>黒白それぞれの石の数を数える.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#drawGrid-instance_method" title="#drawGrid (instance method)">- (nil) <strong>drawGrid</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>盤面を描画.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#drawStone-instance_method" title="#drawStone (instance method)">- (Object) <strong>drawStone</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>盤面上に石を描画.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getPlaceStone-instance_method" title="#getPlaceStone (instance method)">- (Object) <strong>getPlaceStone</strong>(x, y) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>指定したマス目の状態を取得.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Reversi) <strong>initialize</strong>(windowWidth, windowHeight, windowSpace, screen, backColor) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>初期化処理.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#putStone-instance_method" title="#putStone (instance method)">- (Object) <strong>putStone</strong>(x, y) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>通常時石を置く際に使用.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#searchPlaceable-instance_method" title="#searchPlaceable (instance method)">- (Object) <strong>searchPlaceable</strong>(x, y, stoneColor) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>石を置くことが可能かどうか.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#showPutStone-instance_method" title="#showPutStone (instance method)">- (Object) <strong>showPutStone</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#showText-instance_method" title="#showText (instance method)">- (Object) <strong>showText</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>画面にメッセージを描画.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Reversi (class)">Reversi</a></span></tt>) <strong>initialize</strong>(windowWidth, windowHeight, windowSpace, screen, backColor) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>初期化処理</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>windowWidth</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>画面の幅</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>windowHeight</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>画面の高さ</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>windowSpace</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>画面左上からの盤面までの上下左右の空白</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>screen</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>画面グラフィック表示用</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>backColor</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ウィンドウ背景色</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 19</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_windowWidth'>windowWidth</span><span class='comma'>,</span><span class='id identifier rubyid_windowHeight'>windowHeight</span><span class='comma'>,</span><span class='id identifier rubyid_windowSpace'>windowSpace</span><span class='comma'>,</span><span class='id identifier rubyid_screen'>screen</span><span class='comma'>,</span><span class='id identifier rubyid_backColor'>backColor</span><span class='rparen'>)</span>
	<span class='ivar'>@boardGridNum</span><span class='op'>=</span><span class='int'>8</span><span class='comment'>#ボードの縦横のマス数
</span>	<span class='ivar'>@windowSpace</span><span class='op'>=</span><span class='id identifier rubyid_windowSpace'>windowSpace</span>
	<span class='ivar'>@boardSize</span><span class='op'>=</span><span class='id identifier rubyid_windowWidth'>windowWidth</span><span class='op'>&gt;</span><span class='id identifier rubyid_windowHeight'>windowHeight</span> <span class='op'>?</span> <span class='id identifier rubyid_windowHeight'>windowHeight</span><span class='op'>-</span><span class='id identifier rubyid_windowSpace'>windowSpace</span><span class='op'>*</span><span class='int'>2</span> <span class='op'>:</span> <span class='id identifier rubyid_windowWidth'>windowWidth</span><span class='op'>-</span><span class='id identifier rubyid_windowSpace'>windowSpace</span><span class='op'>*</span><span class='int'>2</span>
	<span class='comment'>#マス目の状態格納用２次元配列(0:なし1:白2:黒)
</span>	<span class='ivar'>@gridState</span><span class='op'>=</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@boardGridNum</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span>
		<span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@boardGridNum</span><span class='comma'>,</span><span class='int'>0</span><span class='rparen'>)</span>
	<span class='kw'>end</span>
	<span class='ivar'>@screen</span><span class='op'>=</span><span class='id identifier rubyid_screen'>screen</span>
	<span class='ivar'>@backColor</span><span class='op'>=</span><span class='id identifier rubyid_backColor'>backColor</span>
	<span class='comment'>#初期石を配置	
</span>	<span class='id identifier rubyid_place'>place</span><span class='op'>=</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span><span class='int'>3</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>white</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>3</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>white</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span>
	<span class='id identifier rubyid_place'>place</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='id identifier rubyid_state'>state</span><span class='op'>|</span>
		<span class='id identifier rubyid_addStone'>addStone</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='id identifier rubyid_state'>state</span><span class='rparen'>)</span>
	<span class='kw'>end</span>
	<span class='comment'>#ターン数を初期化
</span>	<span class='ivar'>@turnNum</span><span class='op'>=</span><span class='int'>1</span>
	<span class='ivar'>@stoneColor</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span><span class='comment'>#次に置く石の色
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="gridSize=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="gridSize-instance_method">
  
    - (<tt>Object</tt>) <strong>gridSize</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute gridSize</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 11</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gridSize'>gridSize</span>
  <span class='ivar'>@gridSize</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="addStone-instance_method">
  
    - (<tt>Object</tt>) <strong>addStone</strong>(x, y, stoneColor) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>初期石を置く際に使用</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>x</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>x座標</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>y</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>y座標</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>state</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>黒石か白石か</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78
79
80
81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 78</span>

<span class='kw'>def</span> <span class='id identifier rubyid_addStone'>addStone</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='id identifier rubyid_stoneColor'>stoneColor</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_getPlaceStone'>getPlaceStone</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comment'>#すでに石が置かれている
</span>		<span class='kw'>return</span> <span class='kw'>false</span>
	<span class='kw'>end</span>
	<span class='ivar'>@gridState</span><span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_y'>y</span><span class='rbracket'>]</span><span class='op'>=</span><span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='id identifier rubyid_stoneColor'>stoneColor</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="countStone-instance_method">
  
    - (<tt>Object</tt>) <strong>countStone</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>黒白それぞれの石の数を数える</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


240
241
242
243
244
245
246
247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 240</span>

<span class='kw'>def</span> <span class='id identifier rubyid_countStone'>countStone</span><span class='lparen'>(</span><span class='rparen'>)</span>
	<span class='ivar'>@blackStoneNum</span><span class='op'>=</span><span class='ivar'>@whiteStoneNum</span><span class='op'>=</span><span class='int'>0</span>

	<span class='ivar'>@gridState</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_state'>state</span><span class='op'>|</span>
		<span class='ivar'>@blackStoneNum</span><span class='op'>+=</span><span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='ivar'>@whiteStoneNum</span><span class='op'>+=</span><span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>white</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="drawGrid-instance_method">
  
    - (<tt>nil</tt>) <strong>drawGrid</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>盤面を描画</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>戻り地なし</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_drawGrid'>drawGrid</span><span class='lparen'>(</span><span class='rparen'>)</span>
	<span class='ivar'>@gridSize</span><span class='op'>=</span><span class='ivar'>@boardSize</span><span class='op'>/</span><span class='ivar'>@boardGridNum</span><span class='comment'>#1グリッドのサイズ
</span>	<span class='ivar'>@endPlace</span><span class='op'>=</span><span class='ivar'>@boardSize</span><span class='op'>+</span><span class='ivar'>@windowSpace</span><span class='comment'>#縦横の線描画する終点座標
</span>	<span class='ivar'>@lineColor</span><span class='op'>=</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>255</span><span class='rbracket'>]</span><span class='comment'>#線の色
</span>
	<span class='comment'>#横ラインを描画	
</span>	<span class='lparen'>(</span><span class='ivar'>@boardGridNum</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
		<span class='id identifier rubyid_y'>y</span><span class='op'>=</span><span class='ivar'>@windowSpace</span><span class='op'>+</span><span class='ivar'>@gridSize</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span>
		<span class='ivar'>@screen</span><span class='period'>.</span><span class='id identifier rubyid_draw_line'>draw_line</span><span class='lparen'>(</span><span class='ivar'>@windowSpace</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='ivar'>@endPlace</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='ivar'>@lineColor</span><span class='rparen'>)</span>
	<span class='kw'>end</span>
	<span class='comment'>#縦ラインを描画
</span>	<span class='lparen'>(</span><span class='ivar'>@boardGridNum</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
		<span class='id identifier rubyid_x'>x</span><span class='op'>=</span><span class='ivar'>@windowSpace</span><span class='op'>+</span><span class='ivar'>@gridSize</span><span class='op'>*</span><span class='id identifier rubyid_i'>i</span>
		<span class='ivar'>@screen</span><span class='period'>.</span><span class='id identifier rubyid_draw_line'>draw_line</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='ivar'>@windowSpace</span><span class='comma'>,</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='ivar'>@endPlace</span><span class='comma'>,</span><span class='ivar'>@lineColor</span><span class='rparen'>)</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="drawStone-instance_method">
  
    - (<tt>Object</tt>) <strong>drawStone</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>盤面上に石を描画</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 59</span>

<span class='kw'>def</span> <span class='id identifier rubyid_drawStone'>drawStone</span><span class='lparen'>(</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_point'>point</span><span class='op'>=</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='ivar'>@windowSpace</span><span class='op'>+</span><span class='ivar'>@gridSize</span><span class='op'>/</span><span class='int'>2</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='ivar'>@windowSpace</span><span class='op'>+</span><span class='ivar'>@gridSize</span><span class='op'>/</span><span class='int'>2</span><span class='rbrace'>}</span>
	<span class='ivar'>@color</span><span class='op'>=</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>255</span><span class='comma'>,</span><span class='int'>255</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='int'>255</span><span class='comma'>,</span><span class='int'>255</span><span class='comma'>,</span><span class='int'>255</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
	
	<span class='ivar'>@boardGridNum</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
		<span class='ivar'>@boardGridNum</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_j'>j</span><span class='op'>|</span>
			<span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='ivar'>@color</span><span class='lbracket'>[</span><span class='id identifier rubyid_getPlaceStone'>getPlaceStone</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span><span class='id identifier rubyid_j'>j</span><span class='rparen'>)</span><span class='rbracket'>]</span>
			<span class='ivar'>@screen</span><span class='period'>.</span><span class='id identifier rubyid_draw_circle'>draw_circle</span><span class='lparen'>(</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span><span class='ivar'>@gridSize</span><span class='op'>/</span><span class='int'>2</span><span class='op'>-</span><span class='int'>5</span><span class='comma'>,</span><span class='id identifier rubyid_color'>color</span><span class='comma'>,</span><span class='kw'>true</span><span class='rparen'>)</span>
			<span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='op'>+=</span><span class='ivar'>@gridSize</span><span class='semicolon'>;</span>
		<span class='kw'>end</span>
		<span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='op'>=</span><span class='ivar'>@windowSpace</span><span class='op'>+</span><span class='ivar'>@gridSize</span><span class='op'>/</span><span class='int'>2</span>
		<span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='op'>+=</span><span class='ivar'>@gridSize</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getPlaceStone-instance_method">
  
    - (<tt>Object</tt>) <strong>getPlaceStone</strong>(x, y) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>指定したマス目の状態を取得</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>x</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>x座標</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>y</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>y座標</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 209</span>

<span class='kw'>def</span> <span class='id identifier rubyid_getPlaceStone'>getPlaceStone</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_y'>y</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_x'>x</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='kw'>and</span> <span class='id identifier rubyid_x'>x</span><span class='op'>&lt;</span><span class='ivar'>@boardGridNum</span> <span class='kw'>and</span> <span class='id identifier rubyid_y'>y</span><span class='op'>&lt;</span><span class='ivar'>@boardGridNum</span>
		<span class='kw'>return</span> <span class='ivar'>@gridState</span><span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_y'>y</span><span class='rbracket'>]</span>
	<span class='kw'>else</span>
		<span class='kw'>return</span> <span class='kw'>false</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="putStone-instance_method">
  
    - (<tt>Object</tt>) <strong>putStone</strong>(x, y) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>通常時石を置く際に使用</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_putStone'>putStone</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_getPlaceStone'>getPlaceStone</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comment'>#すでに石が置かれている
</span>		<span class='kw'>return</span> <span class='kw'>false</span>
	<span class='kw'>end</span>

	<span class='id identifier rubyid_reverseList'>reverseList</span><span class='op'>=</span><span class='id identifier rubyid_searchPlaceable'>searchPlaceable</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='ivar'>@stoneColor</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_reverseList'>reverseList</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>!=</span><span class='int'>0</span><span class='comment'>#盤上に置く場所があるとき	
</span>		<span class='ivar'>@gridState</span><span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_y'>y</span><span class='rbracket'>]</span><span class='op'>=</span><span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='ivar'>@stoneColor</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>reverseList=</span><span class='tstring_end'>&#39;</span></span><span class='op'>+</span> <span class='id identifier rubyid_reverseList'>reverseList</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
		<span class='id identifier rubyid_reverseList'>reverseList</span><span class='period'>.</span><span class='id identifier rubyid_reverse_each'>reverse_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_code'>code</span><span class='op'>|</span>
			<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_code'>code</span>
			<span class='ivar'>@gridState</span><span class='lbracket'>[</span><span class='id identifier rubyid_code'>code</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_code'>code</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='op'>=</span><span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='ivar'>@stoneColor</span><span class='rbracket'>]</span>
			<span class='id identifier rubyid_drawStone'>drawStone</span><span class='lparen'>(</span><span class='rparen'>)</span>
			<span class='ivar'>@screen</span><span class='period'>.</span><span class='id identifier rubyid_update_rect'>update_rect</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rparen'>)</span>
			<span class='const'>SDL</span><span class='period'>.</span><span class='id identifier rubyid_delay'>delay</span><span class='lparen'>(</span><span class='int'>300</span><span class='rparen'>)</span>
		<span class='kw'>end</span>
		<span class='ivar'>@stoneColor</span><span class='op'>=</span> <span class='ivar'>@stoneColor</span><span class='op'>==</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>white</span><span class='tstring_end'>&#39;</span></span><span class='op'>:</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span>
		<span class='ivar'>@turnNum</span><span class='op'>+=</span><span class='int'>1</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="searchPlaceable-instance_method">
  
    - (<tt>Object</tt>) <strong>searchPlaceable</strong>(x, y, stoneColor) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>石を置くことが可能かどうか</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>x</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>x座標</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>y</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>y座標</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>stoneColor</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>置く石の色</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 157</span>

<span class='kw'>def</span> <span class='id identifier rubyid_searchPlaceable'>searchPlaceable</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='id identifier rubyid_stoneColor'>stoneColor</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_state'>state</span><span class='op'>=</span><span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='id identifier rubyid_stoneColor'>stoneColor</span><span class='rbracket'>]</span>
	<span class='id identifier rubyid_renge1'>renge1</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span><span class='op'>..</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_renge2'>renge2</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span><span class='op'>..</span><span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_reverseList'>reverseList</span><span class='op'>=</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comment'>#石がひっくり返るリスト
</span>	
	<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x,y</span><span class='tstring_end'>&#39;</span></span>
	<span class='id identifier rubyid_renge1'>renge1</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
		<span class='id identifier rubyid_renge2'>renge2</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_j'>j</span><span class='op'>|</span>
			<span class='id identifier rubyid_stoneNum'>stoneNum</span><span class='op'>=</span><span class='id identifier rubyid_getPlaceStone'>getPlaceStone</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span><span class='id identifier rubyid_j'>j</span><span class='rparen'>)</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_stoneNum'>stoneNum</span><span class='op'>==</span><span class='kw'>false</span><span class='comment'>#座標範囲外の時
</span>				<span class='kw'>next</span> 
			<span class='kw'>end</span>
			<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>i(</span><span class='tstring_end'>&#39;</span></span><span class='op'>+</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>) j(</span><span class='tstring_end'>&#39;</span></span><span class='op'>+</span><span class='id identifier rubyid_j'>j</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>)=</span><span class='tstring_end'>&#39;</span></span><span class='op'>+</span><span class='id identifier rubyid_stoneNum'>stoneNum</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_state'>state</span> <span class='op'>!=</span> <span class='id identifier rubyid_stoneNum'>stoneNum</span> <span class='kw'>and</span> <span class='id identifier rubyid_stoneNum'>stoneNum</span><span class='op'>!=</span><span class='int'>0</span>
				<span class='id identifier rubyid_tmpReverseList'>tmpReverseList</span><span class='op'>=</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
				<span class='id identifier rubyid_tmpReverseList'>tmpReverseList</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span><span class='id identifier rubyid_j'>j</span><span class='rbracket'>]</span><span class='rparen'>)</span>
				<span class='id identifier rubyid_diffX'>diffX</span><span class='op'>=</span><span class='id identifier rubyid_i'>i</span><span class='op'>-</span><span class='id identifier rubyid_x'>x</span>
				<span class='id identifier rubyid_diffY'>diffY</span><span class='op'>=</span><span class='id identifier rubyid_j'>j</span><span class='op'>-</span><span class='id identifier rubyid_y'>y</span>
				<span class='id identifier rubyid_searchX'>searchX</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span><span class='op'>+</span><span class='id identifier rubyid_diffX'>diffX</span><span class='op'>*</span><span class='int'>2</span>
				<span class='id identifier rubyid_searchY'>searchY</span><span class='op'>=</span><span class='id identifier rubyid_y'>y</span><span class='op'>+</span><span class='id identifier rubyid_diffY'>diffY</span><span class='op'>*</span><span class='int'>2</span>
				<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x+diffX*2(</span><span class='tstring_end'>&#39;</span></span><span class='op'>+</span><span class='id identifier rubyid_searchX'>searchX</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>) y+diffY*2(</span><span class='tstring_end'>&#39;</span></span><span class='op'>+</span><span class='id identifier rubyid_searchY'>searchY</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>)=</span><span class='tstring_end'>&#39;</span></span><span class='op'>+</span><span class='id identifier rubyid_getPlaceStone'>getPlaceStone</span><span class='lparen'>(</span><span class='id identifier rubyid_searchX'>searchX</span><span class='comma'>,</span><span class='id identifier rubyid_searchY'>searchY</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
				<span class='id identifier rubyid_loop'>loop</span><span class='lbrace'>{</span>
					<span class='id identifier rubyid_getState'>getState</span><span class='op'>=</span><span class='id identifier rubyid_getPlaceStone'>getPlaceStone</span><span class='lparen'>(</span><span class='id identifier rubyid_searchX'>searchX</span><span class='comma'>,</span><span class='id identifier rubyid_searchY'>searchY</span><span class='rparen'>)</span>
					<span class='kw'>if</span> <span class='id identifier rubyid_getState'>getState</span><span class='op'>==</span><span class='kw'>false</span><span class='comment'>#座標が範囲外の時 
</span>						<span class='kw'>break</span>
					<span class='kw'>end</span>
					
					<span class='kw'>if</span> <span class='id identifier rubyid_getState'>getState</span><span class='op'>==</span><span class='id identifier rubyid_state'>state</span>
						<span class='id identifier rubyid_puts'>puts</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>置ける</span><span class='tstring_end'>&#39;</span></span>
						<span class='id identifier rubyid_tmpReverseList'>tmpReverseList</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
							<span class='id identifier rubyid_reverseList'>reverseList</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
						<span class='kw'>end</span>
						<span class='kw'>break</span>
					<span class='kw'>elsif</span> <span class='id identifier rubyid_getState'>getState</span><span class='op'>!=</span><span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
						<span class='id identifier rubyid_tmpReverseList'>tmpReverseList</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_searchX'>searchX</span><span class='comma'>,</span><span class='id identifier rubyid_searchY'>searchY</span><span class='rbracket'>]</span><span class='rparen'>)</span>
						<span class='id identifier rubyid_searchX'>searchX</span><span class='op'>+=</span><span class='id identifier rubyid_diffX'>diffX</span>
						<span class='id identifier rubyid_searchY'>searchY</span><span class='op'>+=</span><span class='id identifier rubyid_diffY'>diffY</span>
					<span class='kw'>else</span>
						<span class='kw'>break</span>
					<span class='kw'>end</span>
				<span class='rbrace'>}</span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
	
	<span class='kw'>return</span> <span class='id identifier rubyid_reverseList'>reverseList</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="showPutStone-instance_method">
  
    - (<tt>Object</tt>) <strong>showPutStone</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 107</span>

<span class='kw'>def</span> <span class='id identifier rubyid_showPutStone'>showPutStone</span><span class='lparen'>(</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_putStonePlaceList'>putStonePlaceList</span><span class='op'>=</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
	
	<span class='comment'>#置ける場所のリストを作成
</span>	<span class='ivar'>@boardGridNum</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
		<span class='ivar'>@boardGridNum</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_j'>j</span><span class='op'>|</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_getPlaceStone'>getPlaceStone</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span><span class='id identifier rubyid_j'>j</span><span class='rparen'>)</span><span class='op'>!=</span><span class='cvar'>@@stoneState</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
			   <span class='kw'>next</span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_reverseList'>reverseList</span><span class='op'>=</span><span class='id identifier rubyid_searchPlaceable'>searchPlaceable</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span><span class='id identifier rubyid_j'>j</span><span class='comma'>,</span><span class='ivar'>@stoneColor</span><span class='rparen'>)</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_reverseList'>reverseList</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>!=</span><span class='int'>0</span>
				<span class='id identifier rubyid_putStonePlaceList'>putStonePlaceList</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span><span class='id identifier rubyid_j'>j</span><span class='rbracket'>]</span><span class='rparen'>)</span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
	<span class='id identifier rubyid_pp'>pp</span> <span class='id identifier rubyid_putStonePlaceList'>putStonePlaceList</span>
	
	<span class='id identifier rubyid_rectSpace'>rectSpace</span><span class='op'>=</span><span class='int'>2</span>
	<span class='comment'>#リストに基づけ画面に描画
</span>	<span class='id identifier rubyid_point'>point</span><span class='op'>=</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='ivar'>@windowSpace</span><span class='op'>+</span><span class='id identifier rubyid_rectSpace'>rectSpace</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y</span><span class='tstring_end'>&#39;</span></span><span class='op'>=&gt;</span><span class='ivar'>@windowSpace</span><span class='op'>+</span><span class='id identifier rubyid_rectSpace'>rectSpace</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='lbracket'>[</span><span class='int'>255</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rbracket'>]</span>
	<span class='ivar'>@boardGridNum</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
		<span class='ivar'>@boardGridNum</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_j'>j</span><span class='op'>|</span>
			<span class='id identifier rubyid_isPut'>isPut</span><span class='op'>=</span><span class='kw'>false</span>
			<span class='id identifier rubyid_putStonePlaceList'>putStonePlaceList</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
				<span class='id identifier rubyid_pp'>pp</span> <span class='lbracket'>[</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='rbracket'>]</span>
				<span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span><span class='op'>==</span><span class='id identifier rubyid_i'>i</span> <span class='kw'>and</span> <span class='id identifier rubyid_y'>y</span><span class='op'>==</span><span class='id identifier rubyid_j'>j</span>
					<span class='id identifier rubyid_isPut'>isPut</span><span class='op'>=</span><span class='kw'>true</span>
				<span class='kw'>end</span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_width'>width</span><span class='op'>=</span><span class='ivar'>@gridSize</span><span class='op'>-</span><span class='id identifier rubyid_rectSpace'>rectSpace</span><span class='op'>*</span><span class='int'>2</span>
			<span class='id identifier rubyid_height'>height</span><span class='op'>=</span><span class='ivar'>@gridSize</span><span class='op'>-</span><span class='id identifier rubyid_rectSpace'>rectSpace</span><span class='op'>*</span><span class='int'>2</span>
			<span class='id identifier rubyid_x'>x</span><span class='op'>=</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
			<span class='id identifier rubyid_y'>y</span><span class='op'>=</span><span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_isPut'>isPut</span><span class='op'>==</span><span class='kw'>true</span> 
				<span class='ivar'>@screen</span><span class='period'>.</span><span class='id identifier rubyid_draw_rect'>draw_rect</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span><span class='id identifier rubyid_height'>height</span><span class='comma'>,</span><span class='id identifier rubyid_color'>color</span><span class='comma'>,</span><span class='kw'>false</span><span class='rparen'>)</span>
			<span class='kw'>else</span>
				<span class='ivar'>@screen</span><span class='period'>.</span><span class='id identifier rubyid_draw_rect'>draw_rect</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span><span class='id identifier rubyid_height'>height</span><span class='comma'>,</span><span class='ivar'>@color</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='kw'>false</span><span class='rparen'>)</span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='op'>+=</span><span class='ivar'>@gridSize</span><span class='semicolon'>;</span>
		<span class='kw'>end</span>
		<span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='op'>=</span><span class='ivar'>@windowSpace</span><span class='op'>+</span><span class='id identifier rubyid_rectSpace'>rectSpace</span>
		<span class='id identifier rubyid_point'>point</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>y</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='op'>+=</span><span class='ivar'>@gridSize</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="showText-instance_method">
  
    - (<tt>Object</tt>) <strong>showText</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>画面にメッセージを描画</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Reversi.rb', line 218</span>

<span class='kw'>def</span> <span class='id identifier rubyid_showText'>showText</span><span class='lparen'>(</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_font'>font</span><span class='op'>=</span><span class='const'>SDL</span><span class='op'>::</span><span class='const'>TTF</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>font/msgothic.ttc</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>24</span><span class='rparen'>)</span>
	<span class='comment'>#フォントの高さを取得
</span>	<span class='id identifier rubyid_fontHeight'>fontHeight</span><span class='op'>=</span><span class='id identifier rubyid_font'>font</span><span class='period'>.</span><span class='id identifier rubyid_height'>height</span><span class='op'>+</span><span class='int'>1</span>
	<span class='comment'>#表示する文字列
</span>	<span class='id identifier rubyid_showStr'>showStr</span><span class='op'>=</span><span class='lbracket'>[</span><span class='ivar'>@stoneColor</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>の番です</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
		 <span class='ivar'>@turnNum</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ターン目です</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
		 <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>黒:</span><span class='tstring_end'>&#39;</span></span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%2d</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='ivar'>@blackStoneNum</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>白:</span><span class='tstring_end'>&#39;</span></span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%2d</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='ivar'>@whiteStoneNum</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
		<span class='rbracket'>]</span>
	<span class='id identifier rubyid_開始座標'>開始座標</span>
	<span class='id identifier rubyid_startX'>startX</span><span class='op'>=</span><span class='int'>500</span>
	<span class='id identifier rubyid_startY'>startY</span><span class='op'>=</span><span class='int'>0</span>
	<span class='id identifier rubyid_fontColor'>fontColor</span><span class='op'>=</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rbracket'>]</span>
	<span class='id identifier rubyid_showStr'>showStr</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_str'>str</span><span class='op'>|</span>
		<span class='id identifier rubyid_font'>font</span><span class='period'>.</span><span class='id identifier rubyid_draw_shaded_utf8'>draw_shaded_utf8</span><span class='lparen'>(</span><span class='ivar'>@screen</span><span class='comma'>,</span><span class='id identifier rubyid_str'>str</span><span class='comma'>,</span><span class='id identifier rubyid_startX'>startX</span><span class='comma'>,</span><span class='id identifier rubyid_startY'>startY</span><span class='comma'>,</span><span class='op'>*</span><span class='id identifier rubyid_fontColor'>fontColor</span><span class='comma'>,</span><span class='op'>*</span><span class='ivar'>@backColor</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_startY'>startY</span><span class='op'>+=</span><span class='id identifier rubyid_fontHeight'>fontHeight</span>
	<span class='kw'>end</span>

	<span class='id identifier rubyid_font'>font</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Jun 25 01:36:42 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.2.0).
</div>

  </body>
</html>